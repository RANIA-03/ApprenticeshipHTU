@using Apprenticeship.Data.Entities
@model int
<link href="~/assets/extra-libs/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="~/css/form.css" />
<div class="col-12">
	<div class="card">
		<div class="card-body">

			<div class="table-responsive">
				<div class="rowDispaly">
					<h4 class="card-title">Assignmentss Information</h4>
				</div>
				<table id="zero_config" class="table table-striped table-bordered no-wrap">
					<thead>
						<tr>
							<th>Student Name</th>
							<th>Assignment Title</th>
							<th>Assignment Description</th>
							<th>Assignment Notes</th>
							<th>Assignment Objectives</th>
							<th>Edit</th>
							<th>Delete</th>
							<th>View Reports</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var assignment in (List<Assignment>)(ViewBag.assignments))
						{
							<tr>
								<td>@assignment.training.student.fristName @assignment.training.student.lastName</td>
								<td>@assignment.assignmentTitle</td>
								@{
									var descriptionWords = assignment.assignmentDescription.Split(' ');
									var firstFiveWords = string.Join(" ", descriptionWords.Take(5));
								}
								<td>@firstFiveWords...</td>
								@{
									var descriptionWordsNotes = assignment.assignmentNotes.Split(' ');
									var firstFiveWordsNotes = string.Join(" ", descriptionWords.Take(5));
								}
								<td>@firstFiveWordsNotes...</td>
								<td>
									@foreach (var assignmentObjective in assignment.assignmentObjectives)
									{
										<span>@assignmentObjective.objective.objectiveName</span>
										<br />
									}
								</td>
								<td><a class="btn btn-success" href="/Assignment/Edit?assignmentId=@assignment.assignmentId&trainingId=@assignment.trainingId&">Edit</a></td>
								<td><a class="btn btn-danger" href="/Assignment/Delete?assignmentId=@assignment.assignmentId&trainingId=@assignment.trainingId">Delete</a></td>
								<td><a class="btn btn-danger" href="/Report/ViewStudentReports?assignmentId=@assignment.assignmentId">Reports</a></td>
							</tr>
						}
					</tbody>
					<tfoot>
						<tr>
							<th>Student Name</th>
							<th>Assignment Title</th>
							<th>Assignment Description</th>
							<th>Assignment Notes</th>
							<th>Assignment Objectives</th>
							<th>Edit</th>
							<th>Delete</th>
							<th>View Reports</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</div>
</div>
<script src="~/assets/libs/jquery/dist/jquery.min.js"></script>
<script src="~/dist/js/app-style-switcher.js"></script>
<script src="~/assets/extra-libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/dist/js/pages/datatable/datatable-basic.init.js"></script>

@* 
<br /><a class="btn btn-dark " href="/Assignment/Add?trainingId=@Model">Add Assignment</a>
<br />
<table class="table table-striped table-bordered">
	<caption>Assignmentss Information</caption>
	<tr>

		<th>Assignment Id</th>
		<th>Training Id</th>
		<th>Student Name</th>
		<th>Assignment Title</th>
		<th>Assignment Description</th>
		<th>Assignment Notes</th>
		<th>Assignment Objectives</th>
		<th>Edit</th>
		<th>Delete</th>
		<th>View Reports</th>
	</tr>
	@foreach (var assignment in (List<Assignment>)(ViewBag.assignments))
	{
		<tr>
			<td>@assignment.assignmentId</td>
			<td>@assignment.trainingId</td>
			<td>@assignment.training.student.fristName @assignment.training.student.lastName</td>
			<td>@assignment.assignmentTitle</td>
			<td>@assignment.assignmentDescription</td>
			<td>@assignment.assignmentNotes</td>
			<td>
				@foreach (var assignmentObjective in assignment.assignmentObjectives)
				{
					<span>@assignmentObjective.objective.objectiveName</span>
					<br />
				}
			</td>
			<td><a class="btn btn-success" href="/Assignment/Edit?assignmentId=@assignment.assignmentId&trainingId=@assignment.trainingId&">Edit</a></td>
			<td><a class="btn btn-danger" href="/Assignment/Delete?assignmentId=@assignment.assignmentId&trainingId=@assignment.trainingId">Delete</a></td>
			<td><a class="btn btn-danger" href="/Report/ViewStudentReports?assignmentId=@assignment.assignmentId">Reports</a></td>
		</tr>
	}
</table> *@